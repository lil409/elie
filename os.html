<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<title>Windows XI Pro - The Future OS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  :root {
    --accent: #00ddff;
    --bg: rgba(15,15,35,0.96);
    --bg2: rgba(30,30,55,0.98);
    --text: #fff;
    --blur: blur(24px);
    --radius: 14px;
  }
  [data-theme="light"] {
    --accent: #0078ff;
    --bg: rgba(255,255,255,0.92);
    --bg2: rgba(240,240,250,0.95);
    --text: #000; 
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    font-family: 'Segoe UI Variable', sans-serif;
    overflow:hidden;
    height:100vh;
    background: url('4677f132b3b396f81ba30422555a3860.jpg') center/cover;
    color: var(--text);
    transition: all 0.4s;
  }
  #desktop { position:absolute; width:100%; height:100%; }
  
  .window {
    position:absolute;
    background: var(--bg);
    backdrop-filter: var(--blur);
    border-radius: var(--radius);
    box-shadow: 0 16px 64px rgba(0,0,0,0.6);
    overflow:hidden;
    min-width:400px; min-height:300px;
    transition: all 0.25s cubic-bezier(0.2,0.8,0.2,1);
    border: 1px solid rgba(255,255,255,0.1);
  }
  .window.maximized {
    top:0!important; left:0!important; width:100%!important; height:100%!important; border-radius:0!important;
  }
  .titlebar {
    height:40px;
    background: rgba(0,0,0,0.25);
    backdrop-filter: var(--blur);
    display:flex; align-items:center; padding:0 12px;
    cursor:move;
    -webkit-app-region: drag;
    font-weight:600;
    font-size:14px;
  }
  .titlebar button {
    width:14px; height:14px; border-radius:50%; margin-right:8px;
    border:none; cursor:pointer;
    -webkit-app-region: no-drag;
  }
  .close { background:#ff5f57; }
  .min { background:#ffbd2e; }
  .max { background:#28c940; }
  .content { height:calc(100% - 40px); overflow:auto; padding:16px; }

  #taskbar {
    position:fixed; bottom:8px; left:50%; transform:translateX(-50%);
    height:64px; width:95%; max-width:1600px;
    background: var(--bg2);
    backdrop-filter: var(--blur) saturate(200%);
    border-radius: 20px;
    display:flex; align-items:center; padding:0 16px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.4);
    z-index:9999;
    gap:4px;
  }
  .taskbar-icon {
    width:52px; height:52px;
    background:rgba(255,255,255,0.1);
    border-radius:12px;
    display:flex; align-items:center; justify-content:center;
    font-size:26px;
    cursor:pointer;
    transition: all 0.25s;
    position:relative;
  }
  .taskbar-icon:hover { transform:scale(1.2); background:rgba(255,255,255,0.2); }
  .taskbar-icon.active::after {
    content:''; position:absolute; bottom:4px; width:40px; height:4px;
    background:var(--accent); border-radius:2px;
  }

  #startmenu {
    position:fixed; bottom:80px; left:50%; transform:translateX(-50%) scale(0.9); opacity:0;
    width:700px; height:620px;
    background: var(--bg);
    backdrop-filter: var(--blur);
    border-radius: 20px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.7);
    overflow:hidden;
    transition: all 0.4s cubic-bezier(0.2,0.8,0.2,1);
    z-index:99999;
  }
  #startmenu.open { transform:translateX(-50%) scale(1); opacity:1; }

  .virtual-desktop-indicator {
    position:fixed; top:10px; left:50%; transform:translateX(-50%);
    background:rgba(0,0,0,0.5); padding:8px 16px; border-radius:30px;
    font-size:12px; z-index:99999; color:white;
  }

  .notification {
    position:fixed; top:20px; right:20px; width:360px;
    background:var(--bg2); backdrop-filter:var(--blur);
    border-radius:16px; padding:16px; box-shadow:0 10px 40px rgba(0,0,0,0.5);
    z-index:100000; animation: slideIn 0.4s;
  }
  @keyframes slideIn { from { transform:translateX(400px); } to { transform:translateX(0); } }
</style>
</head>
<body>

<div id="desktop"></div>

<!-- Virtual Desktop Indicator -->
<div class="virtual-desktop-indicator">Desktop 1</div>

<!-- Start Menu -->
<div id="startmenu">
  <div style="padding:32px">
    <input type="text" id="startsearch" placeholder="Type to search apps, files, web..." 
           style="width:100%;padding:16px 20px;border-radius:40px;background:rgba(255,255,255,0.15);border:none;color:white;font-size:18px;outline:none">
    <div style="display:grid;grid-template-columns:repeat(7,1fr);gap:16px;margin-top:32px">
      <div class="tile" onclick="openWindow('explorer')">Folder Explorer</div>
      <div class="tile" onclick="openWindow('terminal')">Terminal</div>
      <div class="tile" style="background:linear-gradient(135deg,#667eea,#764ba2)" onclick="openWindow('ai')">Grok AI</div>
      <div class="tile" onclick="notify('Settings opened')">Settings</div>
      <div class="tile" onclick="notify('Photos app launched')">Photos</div>
      <div class="tile" style="background:#ff6b6b" onclick="notify('Shutting down...')">Power</div>
    </div>
  </div>
</div>

<!-- Taskbar -->
<div id="taskbar">
  <div class="taskbar-icon" onclick="toggleStart()">üå¨</div>
  <div class="taskbar-icon" onclick="openWindow('explorer')">üëè</div>
  <div class="taskbar-icon" onclick="openWindow('terminal')">‚ù§</div>
  <div class="taskbar-icon" onclick="openWindow('ai')">ü§ñ</div>
  <div id="running-apps"></div>
  <div class="taskbar-icon" style="margin-left:auto" onclick="toggleActionCenter()">Network</div>
  <div class="taskbar-icon">Volume</div>
  <div class="taskbar-icon">Battery 98%</div>
  <div class="taskbar-icon" id="clock">12:00</div>
</div>

<script>
// Core State
let windows = [];
let windowIdCounter = 0;
let currentDesktop = 1;
let minimizedWindows = {};
let activeWindow = null;

// Clock
setInterval(() => {
  const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', second:'2-digit'});
  document.getElementById('clock').innerText = time;
}, 1000);

// Toggle Start Menu
function toggleStart() {
  const menu = document.getElementById('startmenu');
  menu.classList.toggle('open');
  if (menu.classList.contains('open')) {
    setTimeout(() => document.getElementById('startsearch').focus(), 300);
  }
}

// Search in Start Menu
document.getElementById('startsearch').addEventListener('input', function(e) {
  const query = e.target.value.toLowerCase();
  document.querySelectorAll('.tile').forEach(tile => {
    tile.style.display = tile.textContent.toLowerCase().includes(query) ? 'flex' : 'none';
  });
});

// Create Window
function openWindow(type = 'explorer') {
  closeStart();
  const id = ++windowIdCounter;
  const win = document.createElement('div');
  win.className = 'window';
  win.id = 'win-' + id;
  win.style.left = (100 + windows.length * 40) + 'px';
  win.style.top = (60 + windows.length * 40) + 'px';
  win.style.width = '900px';
  win.style.height = '620px';

  const title = type === 'ai' ? 'Grok AI Assistant' : type === 'terminal' ? 'Windows Terminal' : 'File Explorer';

  win.innerHTML = `
    <div class="titlebar">
      <button class="close" onclick="closeWindow(${id})"></button>
      <button class="min" onclick="minimizeWindow(${id})"></button>
      <button class="max" onclick="toggleMaximize(${id})"></button>
      <span>${title}</span>
    </div>
    <div class="content" id="content-${id}">
      ${generateContent(type, id)}
    </div>
  `;

  document.getElementById('desktop').appendChild(win);
  makeDraggable(win);
  makeResizable(win);
  windows.push({id, element: win, type, minimized: false});
  addToTaskbar(id, type);
  bringToFront(win);
  return win;
}

function generateContent(type, id) {
  if (type === 'terminal') {
    return `<pre style="background:#000;color:#0f0;font-family:Consolas;padding:20px;height:100%;margin:0">
<span style="color:#0ff">Windows XI Terminal v11.0</span>
<span style="color:#ff0">Ultra-fast ‚Ä¢ AI-powered ‚Ä¢ Zero lag</span>

<span id="term-${id}">$ </span><input id="cmd-${id}" style="background:transparent;border:none;outline:none;color:#0f0;width:90%;font-family:Consolas" autofocus>
    </pre>`;
  }
  if (type === 'ai') {
    return `<div style="height:100%;display:flex;flex-direction:column">
      <div id="chat-${id}" style="flex:1;overflow-y:auto;padding:10px"></div>
      <input type="text" placeholder="Ask Grok anything..." style="padding:16px;border-radius:12px;background:rgba(255,255,255,0.1);border:none;outline:none;color:white;font-size:16px" onkeypress="if(event.key==='Enter') sendAI(${id}, this.value); this.value=''">
    </div>`;
  }
  return `<h2>Folder This PC</h2>
    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:20px;margin-top:20px">
      <div style="text-align:center;cursor:pointer" onclick="notify('Opening Documents...')"><div style="font-size:60px">Folder</div>Documents</div>
      <div style="text-align:center;cursor:pointer"><div style="font-size:60px">Download</div>Downloads</div>
      <div style="text-align:center;cursor:pointer"><div style="font-size:60px">Image</div>Pictures</div>
    </div>`;
}

function sendAI(id, msg) {
  const chat = document.getElementById(`chat-${id}`);
  chat.innerHTML += `<div style="margin:10px 0;text-align:right"><div style="background:var(--accent);display:inline-block;padding:12px 18px;border-radius:18px;max-width:80%">${msg}</div></div>`;
  setTimeout(() => {
    const responses = ["I'm faster than Copilot!", "Windows XI is the future.", "Yes, this is real.", "Ask me anything ‚Äî I'm running at 120 FPS.", "This OS uses only 40MB RAM."];
    chat.innerHTML += `<div style="margin:10px 0"><div style="background:rgba(255,255,255,0.1);display:inline-block;padding:12px 18px;border-radius:18px;max-width:80%">Robot ${responses[Math.floor(Math.random()*responses.length)]}</div></div>`;
    chat.scrollTop = chat.scrollHeight;
  }, 600);
}

// Terminal Commands
document.addEventListener('DOMContentLoaded', () => {
  setTimeout(() => {
    document.addEventListener('keydown', e => {
      if (e.target.tagName === 'INPUT' && e.target.id.startsWith('cmd-')) {
        if (e.key === 'Enter') {
          const input = e.target;
          const cmd = input.value.trim();
          const termId = input.id.split('-')[1];
          const output = document.getElementById(`term-${termId}`);
          output.innerHTML += cmd + '<br>';
          const response = runCommand(cmd);
          output.innerHTML += response + '<br>$ ';
          input.value = '';
          output.parentElement.scrollTop = output.parentElement.scrollHeight;
        }
      }
    });
  }, 1000);
});

function runCommand(cmd) {
  const c = cmd.toLowerCase();
  if (c === 'clear') { return ''; }
  if (c === 'neofetch') {
    return `<span style="color:#00ddff">
   ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ
   ‚ñà‚ñÑ‚ñà‚ñÑ‚ñà‚ñÑ‚ñà‚ñÑ‚ñà‚ñÑ‚ñà‚ñÑ‚ñÑ‚ñà‚ñÑ‚ñà‚ñà‚ñÑ‚ñà
   Windows XI Pro v1.0
   Uptime: 5 mins
   CPU: Quantum X1 @ 9.9GHz
   RAM: 32GB DDR9
   GPU: RTX 5090 Ti
   Resolution: 8K@240Hz
   Theme: Fluent Dark+
   </span>`;
  }
  if (c === 'whoami') return 'admin@grok-os:~#';
  if (c === 'ls') return 'Documents  Downloads  Pictures  Secret_AI_Files';
  if (c.startsWith('echo ')) return cmd.slice(5);
  return `Command '${cmd}' executed instantly. (Fake but fast!)`;
}

// Window Management
function closeWindow(id) {
  document.getElementById('win-' + id)?.remove();
  windows = windows.filter(w => w.id !== id);
  removeFromTaskbar(id);
}

function minimizeWindow(id) {
  const win = document.getElementById('win-' + id);
  win.style.display = 'none';
  minimizedWindows[id] = true;
  notify('Window minimized');
}

function addToTaskbar(id, type) {
  const icon = type === 'ai' ? 'Robot' : type === 'terminal' ? 'Terminal' : 'Folder';
  const app = document.createElement('div');
  app.className = 'taskbar-icon active';
  app.innerHTML = icon;
  app.onclick = () => restoreWindow(id);
  app.id = 'task-' + id;
  document.getElementById('running-apps').appendChild(app);
}

function restoreWindow(id) {
  const win = document.getElementById('win-' + id);
  if (win) {
    win.style.display = 'block';
    bringToFront(win);
  }
}

function removeFromTaskbar(id) {
  document.getElementById('task-' + id)?.remove();
}

function toggleMaximize(id) {
  const win = document.getElementById('win-' + id);
  win.classList.toggle('maximized');
}

function bringToFront(el) {
  document.querySelectorAll('.window').forEach(w => w.style.zIndex = 1);
  el.style.zIndex = 100;
  activeWindow = el;
}

function makeDraggable(el) {
  let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  el.querySelector('.titlebar').onmousedown = dragMouseDown;
  function dragMouseDown(e) {
    if (e.target.tagName === 'BUTTON') return;
    e.preventDefault();
    pos3 = e.clientX; pos4 = e.clientY;
    document.onmouseup = closeDrag;
    document.onmousemove = elementDrag;
  }
  function elementDrag(e) {
    e.preventDefault();
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    if (!el.classList.contains('maximized')) {
      el.style.top = (el.offsetTop - pos2) + "px";
      el.style.left = (el.offsetLeft - pos1) + "px";
    }
  }
  function closeDrag() {
    document.onmouseup = null;
    document.onmousemove = null;
  }
}

function makeResizable(el) {
  el.style.resize = 'both';
  el.style.overflow = 'hidden';
}

// Virtual Desktops
document.addEventListener('keydown', e => {
  if (e.ctrlKey && e.key === 'd' && e.metaKey) {
    currentDesktop++;
    document.querySelector('.virtual-desktop-indicator').textContent = `Desktop ${currentDesktop}`;
    notify(`Switched to Desktop ${currentDesktop}`);
  }
  if (e.ctrlKey && e.metaKey && e.key === 'ArrowLeft') {
    currentDesktop = Math.max(1, currentDesktop - 1);
    document.querySelector('.virtual-desktop-indicator').textContent = `Desktop ${currentDesktop}`;
  }
});

// Window Snapping (Win + Arrows)
document.addEventListener('keydown', e => {
  if (e.metaKey && activeWindow) {
    const w = activeWindow;
    const width = window.innerWidth;
    const height = window.innerHeight;
    if (e.key === 'ArrowLeft') { w.style.left = '0'; w.style.top = '0'; w.style.width = width/2 + 'px'; w.style.height = '100%'; }
    if (e.key === 'ArrowRight') { w.style.left = width/2 + 'px'; w.style.top = '0'; w.style.width = width/2 + 'px'; w.style.height = '100%'; }
    if (e.key === 'ArrowUp') { w.classList.add('maximized'); }
    if (e.key === 'ArrowDown') { w.classList.remove('maximized'); }
  }
});

function closeStart() {
  document.getElementById('startmenu').classList.remove('open');
}

function notify(message) {
  const n = document.createElement('div');
  n.className = 'notification';
  n.innerHTML = `<strong>Windows XI</strong><p>${message}</p>`;
  document.body.appendChild(n);
  setTimeout(() => n.remove(), 3000);
}

// Init
document.getElementById('clock').innerText = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
notify('Welcome to Windows XI Pro ‚Äî The fastest OS ever built!');
</script>
</body>
</html>